Comandos usados practica 1

dnf install gnupg2 -y 

mkdir /home/francisemilsantana/cifrado 

cd /home/francisemilsantana/cifrado

echo "Acceso denegado para personal no autorizado" > secreto.txt

ls

gpg2 --full-generate-key
 
gpg2 --list-key 

gpg2 -e -r francis secreto.txt

ls 

cat secreto.txt.gpg

gpg2 -d secreto.txt.gpg > secreto_decifrado.txt 

ls

cat secreto_decifrado.txt 

Comandos usados practica 2

dnf install httpd vsftpd openssh-server -y 

systemctl enable --now httpd vsftpd sshd 

systemctl status httpd 

systemctl status vsftpd 

systemctl status sshd 

iptables -A INPUT -p tcp --dport 80 -j DROP

iptables -A INPUT -p tcp --dport 21 -j DROP

iptables -A INPUT -p tcp --dport 22 -j DROP

iptables -L -n --line-numbers 

iptables -D INPUT -p tcp --dport 80 -j DROP

iptables -D INPUT -p tcp --dport 22 -j DROP

iptables -D INPUT -p tcp --dport 21 -j DROP

iptables -L -n --line-numbers 

firewall-cmd --permanent --remove-service=http
firewall-cmd --permanent --remove-service=ftp
firewall-cmd --permanent --remove-service=ssh
firewall-cmd --reload

firewall-cmd --list-all 

firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=ftp
firewall-cmd --permanent --add-service=ssh
firewall-cmd --reload

firewall-cmd --list-all 

Comandos usados practica 3

Comandos usados practica 4
dnf install -y google-authenticator

google-authenticator

nano /etc/ssh/sshd_config
# Configuracion basica
Port 22
PermitRootLogin no
PubkeyAuthentication yes
PassworkAuthentication yes
ChallengenReponseAuthentication yes
UsePAM yes

# Asegura que se permita el uso de authorized_keys
AuthorizedKeysFile .ssh/authorized_keys

# Seguridad
PermitEmptyPassword no
AllowTcpForwarding no 
X11Forwarding no 
# Authenticacion
#Logs
LogsLevel VERBOSE

# Conexion viva
ClientAliveInterval 120
ClientAliveCountMax 2

nano /etc/pam.d/sshd
auth required pam_google_authenticator.so nullok 






 









